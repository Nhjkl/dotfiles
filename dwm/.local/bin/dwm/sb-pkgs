#!/usr/bin/env bash
. $HOME/.local/bin/dwm/bar_themes/onedark

case $BLOCK_BUTTON in
1) setsid -f "$TERMINAL" -e sb-popupgrade ;;
2) notify-send "$(/usr/bin/pacman -Qu)" ;;
3) notify-send "ğŸ Upgrade module" "ğŸ“¦: number of upgradable packages
- Left click to upgrade packages
- Middle click to show upgradable packages" ;;
6) setsid -f "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

updates=$(pacman -Qu | grep -Fcv "[ignored]" | sed "s/^//;s/^0$//g") # void

if [ -z "$updates" ]; then
	printf "^c$green^ ï„¹  Fully Updated"
else
	printf "^c$green^ ï„¹  $updates"" updates"
fi
